
[1m[46m RUN [49m[22m [36mv4.0.16 [39m[90m/home/espen/proj/arch-viz[39m

 [31mâ¯[39m src/logic/filters.test.js [2m([22m[2m7 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 64[2mms[22m[39m
     [32mâœ“[39m should populate label filter with unique sorted values[32m 20[2mms[22m[39m
     [32mâœ“[39m should populate team filter with unique sorted values[32m 4[2mms[22m[39m
     [32mâœ“[39m should handle elements without owner[32m 3[2mms[22m[39m
     [32mâœ“[39m should allow multi-select filtering persistence during refresh[32m 11[2mms[22m[39m
     [32mâœ“[39m should update filters on label button click[32m 6[2mms[22m[39m
     [32mâœ“[39m should update filters on team button click[32m 4[2mms[22m[39m
[31m     [31mÃ—[31m should apply filters correctly across all criteria[39m[32m 14[2mms[22m[39m

[31mâ¯â¯â¯â¯â¯â¯â¯[39m[1m[41m Failed Tests 1 [49m[22m[31mâ¯â¯â¯â¯â¯â¯â¯[39m

[41m[1m FAIL [22m[49m src/logic/filters.test.js[2m > [22mFilters Module[2m > [22mshould apply filters correctly across all criteria
[31m[1mAssertionError[22m: expected "vi.fn()" to be called with arguments: [ 'filtered' ][90m

Number of calls: [1m0[22m
[31m[39m
[36m [2mâ¯[22m src/logic/filters.test.js:[2m143:38[22m[39m
    [90m141| [39m
    [90m142| [39m        [90m// Check if S2 was filtered[39m
    [90m143| [39m        [34mexpect[39m(elements[[34m1[39m][33m.[39maddClass)[33m.[39m[34mtoHaveBeenCalledWith[39m([32m'filtered'[39m)[33m;[39m
    [90m   | [39m                                     [31m^[39m
    [90m144| [39m        expect(elements[0].removeClass).toHaveBeenCalledWith('filteredâ€¦
    [90m145| [39m    })[33m;[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯[22m[39m

[31mâ¯â¯â¯â¯â¯â¯[39m[1m[41m Unhandled Errors [49m[22m[31mâ¯â¯â¯â¯â¯â¯[39m
[31m[1m
Vitest caught 2 unhandled errors during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.[22m[39m

[31mâ¯â¯â¯â¯â¯[39m[1m[41m Uncaught Exception [49m[22m[31mâ¯â¯â¯â¯â¯[39m
[31m[1mTypeError[22m: node.id is not a function[39m
[36m [2mâ¯[22m src/logic/filters.js:[2m50:29[22m[39m
    [90m 48| [39m        cyInstance[33m.[39m[34mnodes[39m()[33m.[39m[34mforEach[39m(node [33m=>[39m {
    [90m 49| [39m            const name = (node.data('name') || node.data('label') || 'â€¦
    [90m 50| [39m            [35mconst[39m id [33m=[39m node[33m.[39m[34mid[39m()[33m.[39m[34mtoLowerCase[39m()[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m 51| [39m            [35mconst[39m nodeLabels [33m=[39m node[33m.[39m[34mdata[39m([32m'labels'[39m) [33m||[39m [][33m;[39m
    [90m 52| [39m            [35mconst[39m nodeOwner [33m=[39m node[33m.[39m[34mdata[39m([32m'owner'[39m) [33m||[39m [32m''[39m[33m;[39m
[90m [2mâ¯[22m src/logic/filters.js:[2m48:28[22m[39m
[90m [2mâ¯[22m Object.<anonymous> src/logic/filters.test.js:[2m127:34[22m[39m
[90m [2mâ¯[22m Object.Mock [as batch] node_modules/@vitest/spy/dist/index.js:[2m285:34[22m[39m
[90m [2mâ¯[22m applyFilters src/logic/filters.js:[2m47:16[22m[39m
[90m [2mâ¯[22m HTMLButtonElement.btn.onclick src/logic/filters.js:[2m102:24[22m[39m
[90m [2mâ¯[22m HTMLButtonElement.invokeTheCallbackFunction node_modules/jsdom/lib/jsdom/living/generated/EventHandlerNonNull.js:[2m14:28[22m[39m
[90m [2mâ¯[22m HTMLButtonElement.<anonymous> node_modules/jsdom/lib/jsdom/living/helpers/create-event-accessor.js:[2m36:32[22m[39m
[90m [2mâ¯[22m innerInvokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:[2m360:16[22m[39m

[31mThis error originated in "[1msrc/logic/filters.test.js[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mshould apply filters correctly across all criteria[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31mâ¯â¯â¯â¯â¯[39m[1m[41m Uncaught Exception [49m[22m[31mâ¯â¯â¯â¯â¯[39m
[31m[1mTypeError[22m: node.id is not a function[39m
[36m [2mâ¯[22m src/logic/filters.js:[2m50:29[22m[39m
    [90m 48| [39m        cyInstance[33m.[39m[34mnodes[39m()[33m.[39m[34mforEach[39m(node [33m=>[39m {
    [90m 49| [39m            const name = (node.data('name') || node.data('label') || 'â€¦
    [90m 50| [39m            [35mconst[39m id [33m=[39m node[33m.[39m[34mid[39m()[33m.[39m[34mtoLowerCase[39m()[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m 51| [39m            [35mconst[39m nodeLabels [33m=[39m node[33m.[39m[34mdata[39m([32m'labels'[39m) [33m||[39m [][33m;[39m
    [90m 52| [39m            [35mconst[39m nodeOwner [33m=[39m node[33m.[39m[34mdata[39m([32m'owner'[39m) [33m||[39m [32m''[39m[33m;[39m
[90m [2mâ¯[22m src/logic/filters.js:[2m48:28[22m[39m
[90m [2mâ¯[22m Object.<anonymous> src/logic/filters.test.js:[2m127:34[22m[39m
[90m [2mâ¯[22m Object.Mock [as batch] node_modules/@vitest/spy/dist/index.js:[2m285:34[22m[39m
[90m [2mâ¯[22m applyFilters src/logic/filters.js:[2m47:16[22m[39m
[90m [2mâ¯[22m HTMLButtonElement.btn.onclick src/logic/filters.js:[2m102:24[22m[39m
[90m [2mâ¯[22m HTMLButtonElement.invokeTheCallbackFunction node_modules/jsdom/lib/jsdom/living/generated/EventHandlerNonNull.js:[2m14:28[22m[39m
[90m [2mâ¯[22m HTMLButtonElement.<anonymous> node_modules/jsdom/lib/jsdom/living/helpers/create-event-accessor.js:[2m36:32[22m[39m
[90m [2mâ¯[22m innerInvokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:[2m360:16[22m[39m

[31mThis error originated in "[1msrc/logic/filters.test.js[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mshould apply filters correctly across all criteria[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m
[31mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[39m


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m6 passed[39m[22m[90m (7)[39m
[2m     Errors [22m [1m[31m2 errors[39m[22m
[2m   Start at [22m 19:43:39
[2m   Duration [22m 762ms[2m (transform 29ms, setup 0ms, import 43ms, tests 64ms, environment 512ms)[22m

